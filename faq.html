<!DOCTYPE html>
<html lang="da">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Betalingstips | Geo Betting Tips</title>
  <link rel="icon" href="favicon.png" type="image/png" sizes="16x16" />
  <link rel="apple-touch-icon" href="favicon.png" />
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet" />
  <style>
    /* Reset og grundlæggende */
    * {
      box-sizing: border-box;
    }
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background: #f5f5f5;
      color: #222;
    }
    a {
      color: inherit;
      text-decoration: none;
    }

    /* Navbar */
    header.navbar {
      background-color: #003366;
      color: white;
      display: flex;
      align-items: center;
      padding: 0 20px;
      height: 60px;
    }
    .navbar .logo {
      font-weight: 700;
      font-size: 1.4rem;
      letter-spacing: 1px;
      user-select: none;
    }
    nav.nav-links {
      margin-left: 40px;
      display: flex;
      gap: 25px;
      flex-grow: 1;
    }
    nav.nav-links a {
      font-weight: 600;
      font-size: 1rem;
      padding: 6px 8px;
      border-radius: 4px;
      transition: background-color 0.2s;
    }
    nav.nav-links a:hover,
    nav.nav-links a:focus {
      background-color: #0059b3;
      outline: none;
    }

    /* Søgefelt container */
    .search-wrapper {
      position: relative;
      width: 280px;
    }

    /* Søgeinput */
    #search {
      width: 100%;
      padding: 8px 12px;
      border-radius: 4px;
      border: none;
      font-size: 1rem;
      outline-offset: 2px;
    }

    /* Dropdown liste */
    #suggestions {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      max-height: 220px;
      overflow-y: auto;
      background: white;
      border: 1px solid #ccc;
      border-top: none;
      border-radius: 0 0 4px 4px;
      box-shadow: 0 3px 6px rgba(0,0,0,0.15);
      display: none;
      z-index: 1000;
    }
    #suggestions li {
      list-style: none;
      padding: 8px 12px;
      cursor: pointer;
      border-bottom: 1px solid #eee;
      font-size: 0.95rem;
    }
    #suggestions li:last-child {
      border-bottom: none;
    }
    #suggestions li:hover,
    #suggestions li:focus {
      background-color: #0059b3;
      color: white;
      outline: none;
    }

    /* Sub-header placeholder */
    .sub-header {
      background: #e0e0e0;
      padding: 12px 20px;
      font-size: 0.9rem;
      color: #555;
    }
  </style>
</head>
<body>

<header class="navbar" role="banner">
  <div class="logo" aria-label="Geo Betting Tips logo">Geo Betting Tips</div>
  <nav class="nav-links" role="navigation" aria-label="Primær navigation">
    <a href="nyheder.html">Nyheder</a>
    <a href="analyser.html">Analyser</a>
    <a href="tilbud.html">Tilbud</a>
    <a href="mere.html">Mere</a>
  </nav>

  <div class="search-wrapper" role="search">
    <input
      type="search"
      id="search"
      placeholder="Søg her..."
      aria-label="Søg"
      autocomplete="off"
      aria-autocomplete="list"
      aria-controls="suggestions"
      aria-expanded="false"
    />
    <ul id="suggestions" role="listbox"></ul>
  </div>
</header>

<div class="sub-header">
  Velkommen til Geo Betting Tips — Din kilde til de bedste betting tips!
</div>

<!-- JSON data for søgefelt -->
<script id="søgefelt-data" type="application/json">
[
  { "title": "Stor målfest i SønderjyskE vs Vejle", "url": "nyheder.html" },
  { "title": "AaB rykker ud med et brag", "url": "nyheder.html" },
  { "title": "Sunderland rykker op i Premier League", "url": "nyheder.html" },
  { "title": "Asgreen vinder i Giroen", "url": "nyheder.html" },
  { "title": "Novak Djokovic når 100 ATP-titler", "url": "nyheder.html" },
  { "title": "Luka Modric takker af i Real Madrid", "url": "nyheder.html" },
  { "title": "Dagens Spil", "url": "index.html" },
  { "title": "Tilbud", "url": "tilbud.html" },
  { "title": "Bet365", "url": "tilbud.html" },
  { "title": "Betano", "url": "tilbud.html" },
  { "title": "ComeOn", "url": "tilbud.html" },
  { "title": "Velkomstbonusser", "url": "tilbud.html" }
]
</script>

<script>
  // Parse JSON data
  const items = JSON.parse(document.getElementById('søgefelt-data').textContent);
  const input = document.getElementById('search');
  const suggBox = document.getElementById('suggestions');

  // Funktion til at vise forslag i dropdown
  function visForslag(liste) {
    suggBox.innerHTML = '';
    if (!liste.length) {
      suggBox.style.display = 'none';
      input.setAttribute('aria-expanded', 'false');
      return;
    }

    liste.forEach((item, index) => {
      const li = document.createElement('li');
      li.textContent = item.title;
      li.tabIndex = 0; // gør fokusbar for tastaturbrugere
      li.setAttribute('role', 'option');
      li.setAttribute('id', 'suggestion-' + index);
      li.addEventListener('click', () => {
        window.location.href = item.url;
      });
      li.addEventListener('keydown', e => {
        if (e.key === 'Enter' || e.key === ' ') {
          e.preventDefault();
          window.location.href = item.url;
        }
      });
      suggBox.appendChild(li);
    });
    suggBox.style.display = 'block';
    input.setAttribute('aria-expanded', 'true');
  }

  // Vis alle forslag ved fokus på input (start)
  input.addEventListener('focus', () => {
    visForslag(items);
  });

  // Filter forslag ved input
  input.addEventListener('input', () => {
    const val = input.value.trim().toLowerCase();
    if (val === '') {
      // Vis alle forslag, hvis input er tomt
      visForslag(items);
    } else {
      // Filter baseret på input
      const matches = items.filter(i => i.title.toLowerCase().includes(val));
      visForslag(matches);
    }
  });

  // Skjul dropdown hvis klik udenfor søgefeltet
  document.addEventListener('click', e => {
    if (!e.target.closest('.search-wrapper')) {
      suggBox.style.display = 'none';
      input.setAttribute('aria-expanded', 'false');
    }
  });

  // Tastaturnavigation (pil op/ned, enter)
  let selectedIndex = -1;
  input.addEventListener('keydown', e => {
    const options = suggBox.querySelectorAll('li');
    if (!options.length) return;

    if (e.key === 'ArrowDown') {
      e.preventDefault();
      selectedIndex = (selectedIndex + 1) % options.length;
      options[selectedIndex].focus();
    } else if (e.key === 'ArrowUp') {
      e.preventDefault();
      selectedIndex = (selectedIndex - 1 + options.length) % options.length;
      options[selectedIndex].focus();
    } else if (e.key === 'Escape') {
      suggBox.style.display = 'none';
      input.setAttribute('aria-expanded', 'false');
    }
  });

  // Når fokus forlader forslagene, nulstil selectedIndex
  suggBox.addEventListener('focusout', e => {
    if (!suggBox.contains(e.relatedTarget)) {
      selectedIndex = -1;
    }
  });
</script>

</body>
</html>
